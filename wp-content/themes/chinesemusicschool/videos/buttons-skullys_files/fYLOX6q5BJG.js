/*1363610888,178142547*/

if (self.CavalryLogger) { CavalryLogger.start_js(["WKgve"]); }

__d("legacy:fbdesktop-detect",["FBDesktopDetect"],function(a,b,c,d){a.FbDesktopDetect=b('FBDesktopDetect');},3);
__d("IntlUtils",["AsyncRequest","Cookie","goURI"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('Cookie'),i=b('goURI'),j={setXmode:function(k){(new g()).setURI('/ajax/intl/save_xmode.php').setData({xmode:k}).setHandler(function(){document.location.reload();}).send();},setAmode:function(k){new g().setURI('/ajax/intl/save_xmode.php').setData({amode:k,app:false}).setHandler(function(){document.location.reload();}).send();},setLocale:function(k,l,m,n){if(!m)m=k.options[k.selectedIndex].value;j.saveLocale(m,true,null,l,n);},saveLocale:function(k,l,m,n,o){new g().setURI('/ajax/intl/save_locale.php').setData({aloc:k,source:n,app_only:o}).setHandler(function(p){if(l){document.location.reload();}else i(m);}).send();},setLocaleCookie:function(k,l){h.set('locale',k,7*24*3600000);i(l);}};e.exports=j;});
__d("legacy:intl-base",["IntlUtils"],function(a,b,c,d){var e=b('IntlUtils');a.intl_set_xmode=e.setXmode;a.intl_set_amode=e.setAmode;a.intl_set_locale=e.setLocale;a.intl_save_locale=e.saveLocale;a.intl_set_cookie_locale=e.setLocaleCookie;},3);
function FormTypeABTester(a){var b=16,c=32,d=65,e=90,f=48,g=57,h=58,i=63,j=91,k=94,l=0,m=0,n=0,o=0,p=[],q=null,r=[],s=[],t=[],u=[];for(var v=0;v<10;v++){r.push(0);s.push(0);}for(var w=0;w<10;w++){s.push(0);t.push(0);u.push(0);}var x=function(aa){var ba=window.event?Date.now():aa.timeStamp,ca=window.event?window.event.keyCode:aa.which;ca%=128;if((ca>=d&&ca<=e)||ca==c){l++;}else if(ca>=f&&ca<=g){m++;}else if(ca>=h&&ca<=i||ca>=j&&ca<=k){n++;}else o++;p[ca]=ba;if(q){var da=ba-q;if(da>=0&&((ca>=d&&ca<=e)||ca==c))if(da<400){s[Math.floor(da/20)]++;}else if(da<1000){t[Math.floor((da-400)/60)]++;}else if(da<3000)u[Math.floor((da-1000)/200)]++;}q=ba;},y=function(aa){var ba=window.event?Date.now():aa.timeStamp,ca=window.event?window.event.keyCode:aa.which,da=ba-p[ca%128];if(da>=50&&da<250)r[Math.floor((da-50)/20)]++;},z=function(aa){var ba=Math.max.apply(Math,aa),ca=[];aa.forEach(function(da){ca.push(Math.floor(da*63/(ba||1)));});return ca;};this.getDataVect=function(){var aa=s.concat(t,u);return z(aa).concat(z(r),[l/2,m/2,n/2,o/2]);};this.getData=function(){return Base64.encodeNums(this.getDataVect());};Event.listen(a,{keyup:y.bind(this),keydown:x.bind(this)});}function startFormTypeABTester(a){a.ab_tester=new FormTypeABTester(document);}function setFormTypeABTest(a){a.ab_test_data.value=a.ab_tester.getData();return true;}
__d("LoginFormController",["Event","ge","Button"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ge'),i=b('Button');f.init=function(j,k){g.listen(j,'submit',function(){i.setEnabled(k,false);i.setEnabled.curry(k,true).defer(15000);});var l=h('lgnjs');if(l)l.value=parseInt(Date.now()/1000,10);};});
__d("QuicklingAugmenter",["URI"],function(a,b,c,d,e,f){var g=b('URI'),h=[],i={addHandler:function(j){h.push(j);},augmentURI:function(j){var k=[],l=g(j);h.forEach(function(m){var n=m(l);if(!n)return l;k.push(m);l=l.addQueryData(n);});h=k;return l;}};e.exports=i;});
__d("Quickling",["AjaxPipeRequest","Arbiter","Class","CSSClassTransition","DocumentTitle","DOM","ErrorUtils","HTML","OnloadHooks","PageTransitions","QuicklingAugmenter","Run","URI","UserAgent","copyProperties","goOrReplace","isEmpty","QuicklingConfig"],function(a,b,c,d,e,f){var g=b('AjaxPipeRequest'),h=b('Arbiter'),i=b('Class'),j=b('CSSClassTransition'),k=b('DocumentTitle'),l=b('DOM'),m=b('ErrorUtils'),n=b('HTML'),o=b('OnloadHooks'),p=b('PageTransitions'),q=b('QuicklingAugmenter'),r=b('Run'),s=b('URI'),t=b('UserAgent'),u=b('copyProperties'),v=b('goOrReplace'),w=b('isEmpty'),x=b('QuicklingConfig'),y=x.version,z=x.sessionLength,aa=new RegExp(x.inactivePageRegex),ba=0,ca,da='',ea={isActive:function(){return true;},isPageActive:function(la){if(la=='#')return false;la=new s(la);if(la.getDomain()&&la.getDomain()!=s().getDomain())return false;if(la.getPath()=='/l.php'){var ma=la.getQueryData().u;if(ma){ma=s(unescape(ma)).getDomain();if(ma&&ma!=s().getDomain())return false;}}var na=la.getPath(),oa=la.getQueryData();if(!w(oa))na+='?'+s.implodeQuery(oa);return !aa.test(na);},getLoadCount:function(){return ba;}};function fa(la){la=la||'Facebook';k.set(la);if(t.ie()){da=la;if(!ca)ca=window.setInterval(function(){var ma=da,na=k.get();if(ma!=na)k.set(ma);},5000,false);}}function ga(la){var ma=document.getElementsByTagName('link');for(var na=0;na<ma.length;++na){if(ma[na].rel!='alternate')continue;l.remove(ma[na]);}if(la.length){var oa=l.find(document,'head');oa&&l.appendContent(oa,n(la[0]));}}function ha(la){var ma={version:y};this.parent.construct(this,la,{quickling:ma});}i.extend(ha,g);u(ha.prototype,{_preBootloadFirstResponse:function(la){return true;},_fireDomContentCallback:function(){this._request.cavalry&&this._request.cavalry.setTimeStamp('t_domcontent');p.transitionComplete();this._onPageDisplayed&&this._onPageDisplayed(this.pipe);this.parent._fireDomContentCallback();},_fireOnloadCallback:function(){if(this._request.cavalry){this._request.cavalry.setTimeStamp('t_hooks');this._request.cavalry.setTimeStamp('t_layout');this._request.cavalry.setTimeStamp('t_onload');}this.parent._fireOnloadCallback();},isPageActive:function(la){return ea.isPageActive(la);},_versionCheck:function(la){if(la.version==y)return true;var ma=['quickling','ajaxpipe','ajaxpipe_token'];v(window.location,s(la.uri).removeQueryData(ma),true);return false;},_processFirstResponse:function(la){var ma=la.getPayload();fa(ma.title);ga(ma.syndication||[]);window.scrollTo(0,0);j.go(document.body,ma.body_class||'',p.getMostRecentURI(),la.getRequest().getURI());},getSanitizedParameters:function(){return ['quickling'];}});function ia(){ba++;return ba>=z;}function ja(la){g.setCurrentRequest(null);if(ia())return false;la=q.augmentURI(la);if(!ea.isPageActive(la))return false;window.ExitTime=Date.now();r.__removeHook('onafterloadhooks');r.__removeHook('onloadhooks');o.runHooks('onleavehooks');h.inform('onload/exit',true);new ha(la).setCanvasId('content').send();return true;}function ka(la){var ma=window[la];function na(oa,pa,qa){if(typeof oa!=='function')oa=eval.bind(null,oa);var ra=ma(m.guard(oa),pa);if(pa>0)if(qa!==false)r.onLeave(function(){clearInterval(ra);});return ra;}window[la]=na;}r.onAfterLoad(function la(){ka('setInterval');ka('setTimeout');p.registerHandler(ja,1);});e.exports=a.Quickling=ea;});
__d("StringTransformations",[],function(a,b,c,d,e,f){e.exports={unicodeEscape:function(g){return g.replace(/[^A-Za-z0-9\-\.\:\_\$\/\+\=]/g,function(h){var i=h.charCodeAt().toString(16);return '\\u'+('0000'+i.toUpperCase()).slice(-4);});},unicodeUnescape:function(g){return g.replace(/(\\u[0-9A-Fa-f]{4})/g,function(h){return String.fromCharCode(parseInt(h.slice(2),16));});}};});
__d("TimeSpentLogger",["Arbiter","Banzai","CSS","ClickRefUtils","DOMEventListener","ScriptPath","UserActivity","collectDataAttributes","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Banzai'),i=b('CSS'),j=b('ClickRefUtils'),k=b('DOMEventListener'),l=b('ScriptPath'),m=b('UserActivity'),n=b('collectDataAttributes'),o=b('copyProperties'),p=[m.getLastInformTime(),0],q=m.getLastInformTime(),r={tos_seq:0,tos_cumulative:0,transport_cause:null,buenopath:null,page_token:null,elements:0,uact_tos:null,client_time:null},s=100,t=100,u=10*1000,v=3*1000,w=1,x=2,y=4,z=8,aa={};m.subscribe(function(ia,ja){var ka=p.length-1;q=ja.last_inform;if(ja.idleness<v){p[ka]+=ja.idleness;r.tos_cumulative+=ja.idleness;}else{if(ka>s)fa('array_limit_reached');p.push(ja.idleness,0);}});function ba(ia){var ja=0;if(document.getElementById('boulder_fixed_header'))ja=ja|w;if(i.hasClass(document.body,'timelineLayout')){ja=ja|y;var ka=document.getElementById('pagelet_main_column_personal');if(ka&&ka.getAttribute('data-referrer')==='pagelet_main_column_personal_timeline')ja=ja|x;if(i.hasClass(document.body,'pagesTimelineLayout'))ja=ja|z;}return ja;}function ca(ia){var ja=ba(),ka=l.getScriptPath(),la=l.getCategoryToken();r.uact_tos=p;if(ka){r.buenopath=ka.substring(0,t);}else r.buenopath='';if(la){r.page_token=la;}else r.page_token='';r.elements=ja;r.transport_cause=ia;r.client_time=Date.now();}function da(){r.tos_seq+=1;p=[q,0];}var ea={store:true,delay:3000,retry:true};function fa(ia){ca(ia);if(h.isEnabled('time_spent')){g.inform('timespent/tosdataposted',o({},r));h.post('time_spent',o({},r),ea);}da();}function ga(){fa('heartbeat');}function ha(){fa('before_unload');}if(window.top==window.self){k.add(window,'beforeunload',ha);setInterval(function(){if(Date.now()-m.getLastInformTime()>(u-100)&&(p.length>2||p[p.length-1]>0))ga();},u);}g.subscribe("UserAction/new",function(ia,ja){if(j.should_report(ja.node,ja.mode)){var ka=n(ja.node,['gt']),la={iref:j.get_intern_ref(ja.node),gt_ref:ka.ref,nav_section:ka.nav_section};ca('useraction');o(la,r);ja.ua.add_data(la);g.inform('timespent/tosdataposted',o({},r));da();}});e.exports=aa;});
__d("UserStorage",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=false;try{if('localStorage' in a&&a.localStorage){a.localStorage.setItem('test',true);a.localStorage.removeItem('test');h=true;}}catch(i){}function j(k,l){this.uid=k||'';this.project=l||'';this.storage=a.localStorage;}g(j.prototype,{_disabled:false,setItem:function(k,l){this.setString(k,JSON.stringify(l));},getItem:function(k){var l=this.getString(k);return l&&JSON.parse(l);},deleteItem:function(k){delete this.storage[this._buildKey(k)];},setString:function(k,l){if(!this._disabled)this.storage[this._buildKey(k)]=l;},getString:function(k){return this.storage[this._buildKey(k)];},_buildKey:function(k){return [this.uid,this.project,k].join(':');},cleanup:function(k){k=k||false;var l=[this.uid,this.project].join(':');for(var m in this.storage){var n=this.storage.hasOwnProperty&&!this.storage.hasOwnProperty(m);if(!m||this.storage[m]===undefined||n)continue;if(!k&&!m.match(l))continue;delete this.storage[m];}},setDisabled:function(k){this._disabled=k;},isSupported:function(){return h&&this.storage!==undefined;}});e.exports=j;});
__d("LoginChooserMenu",["AsyncRequest","CSS","cx","DOM","emptyFunction","ge","$","Event","UserStorage","Toggler"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('CSS'),i=b('cx'),j=b('DOM'),k=b('emptyFunction'),l=b('ge'),m=b('$'),n=b('Event'),o=b('UserStorage'),p=b('Toggler'),q='userchooserblocked',r=2592000,s='user_chooser_user_container_',t='user_chooser_user_box_',u='user_chooser_close_button_',v='login_chooser_dark_background',w='user_container_',x={setup:function(y,z,aa,ba,ca,da,ea,fa){if(this.isDisabledOnBrowser())return;var ga=x.getValidOsessUsers();if(!y&&this.isEmpty(ga))return;this.dialogRecentLogins=da;this.dialogRecentLoginsAttached=false;this.dialogOptIn=fa;this.justLoggedOutNewUser=null;if(ea){if(!ga[ea.id])this.justLoggedOutNewUser=ea.id;ga[ea.id]=ea;}var ha=false;for(var ia in ga){ha=true;var ja=ba.cloneNode(true),ka=ga[ia].id;ja.setAttribute('id',s+ka);(j.scry(ja,'.'+"-cx-PRIVATE-loginChooser__picFrontInner")[0]).setAttribute('src',ga[ia].pic_url);(j.scry(ja,'.'+"-cx-PRIVATE-loginChooser__userName")[0]).appendChild(document.createTextNode(ga[ia].name));var la=(j.scry(ja,'.'+"userBox")[0]);la.setAttribute('id',t+ka);n.listen(la,'click',this.userClicked.bind(this,la.id));var ma=(j.scry(ja,'.'+"-cx-PRIVATE-loginChooser__userRemove")[0]);ma.setAttribute('id',u+ka);n.listen(ma,'click',this.handleIndexXClick.bind(this,ma.id));h.removeClass(ja,'hidden_elem');aa.appendChild(ja);}if(!ha)return;ba.parentNode.removeChild(ba);h.removeClass(z,'hidden_elem');n.listen(ca,'click',this.headerClicked.bind(this));var na=null;if(this.dialogOptIn&&this.justLoggedOutNewUser){na=this.justLoggedOutNewUser;this.dialogOptIn.show();this.promoteRecentUser();var oa=l('button_chooser_optin_yes');n.listen(oa,'click',this.newUserDialogAddUser.bind(this,ea));var pa=l('button_chooser_optin_no');n.listen(pa,'click',this.newUserDialogRemoveUser.bind(this));}x.phoneHome({action:'render_chooser_index',optin_dialog_uid:na,ctx:'index'});},headerClicked:function(){this.dialogRecentLogins.show();if(this.dialogRecentLoginsAttached)return;this.dialogRecentLoginsAttached=true;var y=l('login_chooser_contextual_dialog');n.listen((j.scry(y,'label.'+"-cx-PRIVATE-loginChooser__clearLogins")[0]),'click',this.clearRecentLogins.bind(this));n.listen((j.scry(y,'label.'+"-cx-PRIVATE-loginChooser__turnOff")[0]),'click',this.disableOnBrowser.bind(this));},filterOsessUsers:function(y){var z=Date.now()/1000-r,aa={};for(var ba in y)if(y[ba].time>z)aa[ba]=y[ba];return aa;},phoneHome:function(y){y.osess_size=this.getDictionarySize(this.getValidOsessUsers());new g().setURI('/ajax/login/chooser').setOption("suppressErrorHandlerWarning",true).setOption("suppressErrorAlerts",true).setErrorHandler(k).setTransportErrorHandler(k).setData(y).send();},userClicked:function(y){var z=y.slice(t.length);x.phoneHome({action:'show_login_dialog',login_uid:z,ctx:'index'});this.unpromoteRecentUser();},attachSettingsMenuOnclicks:function(y,z,aa){n.listen(z,'click',function(event){p.hide(m('navAccount'));x.phoneHome({action:'show_login_dialog',login_uid:y,ctx:'settings_menu'});event.stopPropagation();});n.listen(aa,'click',function(event){x.removeUserFromLocalStorage(y);x.removeUserFromSettingsUI(y);x.phoneHome({action:'remove_user',login_uid:y,ctx:'settings_menu'});event.stopPropagation();});},handleIndexXClick:function(y){var z=y.slice(u.length);x.removeUserFromLocalStorage(z);x.removeUserFromIndexUI(z);this.unpromoteRecentUser();x.phoneHome({action:'remove_user',login_uid:z,ctx:'index'});},removeUserFromLocalStorage:function(y){var z=new o(0,'userchooser'),aa=z.getItem('osessusers');if(!aa)return;for(var ba in aa)if(ba==y)delete aa[ba];z.setItem('osessusers',aa);},removeUserFromIndexUI:function(y){var z=l(s+y);z.parentNode.removeChild(z);var aa=j.scry(document,'div.'+"-cx-PRIVATE-loginChooser__userContainer");if(!aa.length){var ba=l('login_chooser_container');h.addClass(ba,'hidden_elem');}},removeUserFromSettingsUI:function(y){var z=l(w+y);z.parentNode.removeChild(z);},addUser:function(y,z){if(this.isDisabledOnBrowser())return;var aa=new o(0,'userchooser'),ba=x.getValidOsessUsers();if(this.isEmpty(ba))ba={};ba[y]=z;aa.setItem('osessusers',ba);},newUserDialogAddUser:function(y){x.addUser(this.justLoggedOutNewUser,y);x.phoneHome({action:'add_to_list',login_uid:this.justLoggedOutNewUser,ctx:'index'});this.dialogOptIn.hide();this.unpromoteRecentUser();},newUserDialogRemoveUser:function(){x.removeUserFromIndexUI(this.justLoggedOutNewUser);x.phoneHome({action:'dont_add',login_uid:this.justLoggedOutNewUser,ctx:'index'});this.unpromoteRecentUser();},isDisabledOnBrowser:function(){var y=(new o(0,'userchooser')).getItem('osessusers');return y&&y==q;},promoteRecentUser:function(){this.addBackgroundScreen();var y=l(s+this.justLoggedOutNewUser);h.addClass((j.scry(y,'.'+"-cx-PRIVATE-loginChooser__picFrontOuter")[0]),"-cx-PRIVATE-loginChooser__highlightedElem");h.addClass((j.scry(y,'.'+"-cx-PRIVATE-loginChooser__userName")[0]),"-cx-PRIVATE-loginChooser__highlightedName");h.addClass((j.scry(y,'.'+"-cx-PRIVATE-loginChooser__userRemove")[0]),"-cx-PRIVATE-loginChooser__highlightedElem");var z=j.scry(document.body,'.loggedout_menubar_container')[0];if(z){h.addClass(z,"-cx-PRIVATE-loginChooser__highlightedElem");h.addClass(z,"-cx-PRIVATE-loginChooser__relativeElem");}var aa=j.scry(document.body,'.signupBanner_v1')[0];if(aa){h.addClass(aa,"-cx-PRIVATE-loginChooser__highlightedElem");h.addClass(aa,"-cx-PRIVATE-loginChooser__relativeElem");}},unpromoteRecentUser:function(){this.removeBackgroundScreen();if(this.dialogOptIn)this.dialogOptIn.hide();var y=l(s+this.justLoggedOutNewUser);if(y){h.removeClass((j.scry(y,'.'+"-cx-PRIVATE-loginChooser__picFrontOuter")[0]),"-cx-PRIVATE-loginChooser__highlightedElem");h.removeClass((j.scry(y,'.'+"-cx-PRIVATE-loginChooser__userName")[0]),"-cx-PRIVATE-loginChooser__highlightedName");h.removeClass((j.scry(y,'.'+"-cx-PRIVATE-loginChooser__userRemove")[0]),"-cx-PRIVATE-loginChooser__highlightedElem");}var z=j.scry(document.body,'.loggedout_menubar_container')[0];if(z){h.removeClass(z,"-cx-PRIVATE-loginChooser__highlightedElem");h.removeClass(z,"-cx-PRIVATE-loginChooser__relativeElem");}var aa=j.scry(document.body,'.signupBanner_v1')[0];if(aa){h.removeClass(aa,"-cx-PRIVATE-loginChooser__highlightedElem");h.removeClass(aa,"-cx-PRIVATE-loginChooser__relativeElem");}},addBackgroundScreen:function(){var y=j.create('div',{id:v,className:"-cx-PRIVATE-loginChooser__background"});j.appendContent(l('login_chooser_container'),y);n.listen(y,'click',this.newUserDialogRemoveUser.bind(this));},removeBackgroundScreen:function(){if(l(v)){var y=l(v);y.parentNode.removeChild(y);}},clearRecentLogins:function(){(new o(0,'userchooser')).setItem('osessusers',{});h.addClass(l('login_chooser_container'),'hidden_elem');this.dialogRecentLogins.hide();x.phoneHome({action:'clear_list',ctx:'index'});},disableOnBrowser:function(){(new o(0,'userchooser')).setItem('osessusers',q);h.addClass(l('login_chooser_container'),'hidden_elem');this.dialogRecentLogins.hide();x.phoneHome({action:'turn_off_feature',ctx:'index'});},fetchSettingsMenu:function(y){var z=x.getValidOsessUsers();if(this.isEmpty(z))return;var aa=false,ba=[];for(var ca in z){if(z[ca].id==y){aa=true;continue;}ba.push(z[ca].id);}if(!aa)return;if(ba.length===0)return;var da={osess_users:ba};new g().setURI('/ajax/login/chooser/settings_menu').setOption('suppressErrorHandlerWarning',true).setOption('suppressErrorAlerts',true).setErrorHandler(k).setTransportErrorHandler(k).setData(da).send();},getValidOsessUsers:function(){var y=(new o(0,'userchooser')).getItem('osessusers');if(!y)return {};return this.filterOsessUsers(y);},getDictionarySize:function(y){var z=0;for(var aa in y)if(y.hasOwnProperty(aa))z++;return z;},isEmpty:function(y){if(y===null)return true;if(y===undefined)return true;if(y.length&&y.length>0)return false;if(y.length===0)return true;for(var z in y)if(y.hasOwnProperty(z))return false;return true;}};e.exports=x;});
__d("legacy:popup-resizer",["PopupWindow"],function(a,b,c,d){a.PopupResizer=b('PopupWindow');},3);
var RegistrationBootloader=(function(){return {init:function(a,b,c,d,e){this.confirmationNode=a;this.redirectConfirmation=b;this.regFormName=c;this.logFocusName=d;this.validationEndpoint=e;this.regForm=ge(c);if(this.regForm){this.regForm.onclick=this.bootload.bind(this);this.regForm.onkeypress=this.bootload.bind(this);}},bootload:function(a,b){if(this.regForm){this.regForm.onclick=null;this.regForm.onkeypress=null;}Bootloader.loadComponents(['registration'],function(){Registration.getInstance().init(this.confirmationNode,this.redirectConfirmation,this.regFormName,this.logFocusName,this.validationEndpoint);if(b)Registration.getInstance().validateForm();Registration.getInstance().logFormFocus();}.bind(this));},bootloadAndValidate:function(){this.bootload(null,true);}};})();
__d("useragentcm",["Bootloader","Env","ge"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('Env'),i=b('ge');function j(){var k=false,l={ffid:(typeof(h.ffid)=="undefined"?0:h.ffid),ffid1:(typeof(h.ffid1)=="undefined"?0:h.ffid1),ffid2:(typeof(h.ffid2)=="undefined"?0:h.ffid2),ffid3:(typeof(h.ffid3)=="undefined"?0:h.ffid3),ffid4:(typeof(h.ffid4)=="undefined"?0:h.ffid4),ffver:(typeof(h.ffver)=="undefined"?0:h.ffver)};l.qp=document.location;var m=i('login_form');if(m&&m.action)l.qm=m.action;var n='\146\141\143\145\142\157\157\153',o=new RegExp('(^|\\.)'+n+'\\.com$','i').test(document.location.hostname);if(!o){k=true;}else if(l.qm){var p=l.qm.split('?')[0].split('#')[0],q=65535;for(var r=0;r<p.length;r++){var s=((q>>8)^p.charCodeAt(r))&255;s^=s>>4;q=((q<<8)^(s<<12)^(s<<5)^s)&65535;}if(h.ffver&&h.ffver!=q)k=true;}if(k){var t=document.location.protocol+'//www.'+n+'.com/ajax/ua_callback.php';if(document.referrer)l.qr1=document.referrer;g.loadModules(['AsyncSignal'],function(v){new v(t,l).send();});}}e.exports=j;});
__d("legacy:si-countermeasures",["useragentcm"],function(a,b,c,d){a.useragentcm=b('useragentcm');},3);
__d("WebStorageMonster",["Event","AsyncRequest","UserActivity","StringTransformations","arrayContains","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f){var g=b('Event'),h=b('AsyncRequest'),i=b('UserActivity'),j=b('StringTransformations'),k=b('arrayContains'),l=b('setTimeoutAcrossTransitions'),m=300000,n=false;function o(t){var u={};for(var v in t){var w=t.getItem(v),x=j.unicodeEscape(v);if(typeof w==='string')u[x]=w.length;}return u;}function p(t){if(a.localStorage&&t.keys)s._getLocalStorageKeys().forEach(function(u){if(k(t.keys,u))a.localStorage.removeItem(u);});}function q(t){if(a.localStorage)s._getLocalStorageKeys().forEach(function(u){if(!t.some(function(v){return new RegExp(v).test(u);}))a.localStorage.removeItem(u);});if(a.sessionStorage)a.sessionStorage.clear();}function r(t){if(i.isActive(m)){l(r.curry(t),m);}else s.cleanNow(t);}var s={registerLogoutForm:function(t,u){g.listen(t,'submit',function(v){s.cleanOnLogout(u);});},schedule:function(t){if(n)return;n=true;r(t);},cleanNow:function(t){var u=Date.now(),v={},w=false;['localStorage','sessionStorage'].forEach(function(y){if(a[y]){v[y]=o(a[y]);w=true;}});var x=Date.now();v.logtime=x-u;if(w)new h('/ajax/webstorage/process_keys.php').setData(v).setHandler(function(y){if(!t){var z=y.getPayload();if(z.keys)z.keys=z.keys.map(j.unicodeUnescape);p(z);}}.bind(this)).send();},cleanOnLogout:function(t){if(t)q(t);if(a.sessionStorage)a.sessionStorage.clear();},_getLocalStorageKeys:Object.keys.curry(a.localStorage)};e.exports=s;});